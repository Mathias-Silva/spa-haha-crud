<div class="reserva-list-header">
  <h2>Reservas Realizadas</h2>
  <button (click)="carregar()" class="btn-refresh">ğŸ”„ Atualizar</button>
</div>

<div *ngIf="reservas.length === 0" class="sem-reservas">
  <p>Nenhuma reserva encontrada.</p>
</div>

<table *ngIf="reservas.length > 0" class="reservas-table">
  <thead>
    <tr>
      <th>Cliente</th>
      <th>Email</th>
      <th>Massagem</th>
      <th>Data</th>
      <th>HorÃ¡rio</th>
      <th>Pagamento</th>
      <th>AÃ§Ãµes</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let r of reservas" [class.pago]="r.pago">
      <td>{{ getUserNome(r.user) }}</td>
      <td>{{ getUserEmail(r.user) }}</td>
      <td>{{ getMassagemNome(r.massagem) }}</td>
      <td>{{ r.data | date:'dd/MM/yyyy' }}</td>
      <td>{{ r.horario }}</td>
      <td>
        <span class="status-pagamento" [class.pago]="r.pago" [class.nao-pago]="!r.pago">
          {{ r.pago ? 'âœ“ Pago' : 'âœ— Pendente' }}
        </span>
      </td>
      <td class="acoes">
        <button 
          *ngIf="!r.pago" 
          (click)="marcarComoPago(r._id!)" 
          class="btn-pago"
          title="Marcar como pago">
          âœ“
        </button>
        <button 
          *ngIf="r.pago" 
          (click)="marcarComoNaoPago(r._id!)" 
          class="btn-nao-pago"
          title="Marcar como nÃ£o pago">
          âœ—
        </button>
        <button (click)="excluir(r._id!)" class="btn-excluir" title="Excluir reserva">ğŸ—‘ï¸</button>
      </td>
    </tr>
  </tbody>
</table>
